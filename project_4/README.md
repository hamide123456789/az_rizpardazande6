## آزمایش شماره چهار : تولید نت های موسیقی با استفاده از پیزو 💡

### هدف 🎯

در این جا می خواهیم با استفاده از یک <strong>پیزو</strong>، مجموعه ای از نت های موسیقی را به طور متوالی پخش کنیم.

---

### مواد و وسایل مورد نیاز 🛠️

<div align="right">
<table>
<thead>
<tr>
<th>ردیف</th><th>قطعه</th><th>تعداد</th>
</tr>
</thead>
<tbody align="center">
<tr>
<td>1</td><td>بردبورد</td><td>یک عدد</td>
</tr>
<tr>
<td>2</td><td>برد آردوینو UNO</td><td>یک عدد</td>
</tr>
<tr>
<td>3</td><td>سیم جامپر</td><td>دو عدد</td>
</tr>
<tr>
<td>4</td><td>کابل USB</td><td>یک عدد</td>
</tr>
<tr>
<td>5</td><td>پیزو الکتریک</td><td>یک عدد</td>
</tr>
</tbody>
</table>
</div>

---

### توضیحات کلی 📝

بلندگوی پیزوالکتریک ( Piezo ) در واقع قطعه ای می باشد که با استفاده از آن می توان صدایی با فرکانس های مختلف تولید کرد و اگر این صداها به طور متوالی پخش شوند باعث تولید یک موسیقی می شوند.

---

### سورس کد 💻

```cpp
#include "pitches.h"

int melody[] = {
NOTE_C4, NOTE_G3,NOTE_G3, NOTE_GS3, NOTE_G3,0, NOTE_B3, NOTE_C4};

int noteDurations[] = {
4, 8, 8, 4,4,4,4,4
};

void setup() {
for (int thisNote = 0; thisNote < 8; thisNote++) {
int noteDuration = 1000/noteDurations[thisNote];
tone(8, melody[thisNote],noteDuration);
delay(noteDuration +30);
}
}
```

---

### توصیف کد های برنامه 🧑🏻‍💻

ابتدا کتابخانه pitches را داخل برنامه وارد می کنیم. در این کتابخانه انواع نت های موسیقی تعریف شده اند. سپس آرایه ای از چندین نت موسیقی ایجاد می کنیم. یکی از خانه های آرایه شامل مقدار 0 می باشد که به معنی سکوت یا بی صدا است. سپس آرایه ای دیگر به نام noteDuration تعریف می کنیم که مربوط به تنظیم مدت زمان برای پخش هر کدام از نت های آرایه بالایی می باشد.  
در تابع setup یک حلقه for ایجاد می کنیم که به ترتیب از اولین نت تا آخرین نت آرایه melody را پخش می کند. در متود tone تنظیم می کنیم که پایه شماره 8 مربوط به پیزو می باشد و در هر لحظه باید کدام نت از کدام خانه آرایه melody را پخش کند.

---

### شماتیک مدار 🗺️

<br>

<div align="center">
<img src="/media/schematic_14.jpg" width="600px" height="300px">
</div>

---

### توضیحات شماتیک مدار ✒️

<ol>
<li>
اتصالات پیزو
<ul>
<li>یک پایه به پین 8 آردوینو</li>
<li>یک پایه به پین Gnd آردوینو</li>
</ul>
</li>
</ol>

---

### نتیجه گیری 👀

بلندگوی پیزو برای ساخت وسایل صوتی همچون music player، هشدار دهنده های صوتی، ساعت های دیجیتالی و... می تواند بسیار مفید باشد.
