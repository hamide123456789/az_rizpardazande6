## آزمایش شماره یک : نمایش اعداد با سون سگمنت 💡

### هدف 🎯

در این آزمایش می خواهیم بر روی ماژول <strong>سون سگمنت</strong> مجموعه اعداد صحیح یک رقمی را نمایش دهیم.

---

### مواد و وسایل مورد نیاز 🛠️

<div align="right">
<table>
<thead>
<tr>
<th>ردیف</th><th>قطعه</th><th>تعداد</th>
</tr>
</thead>
<tbody align="center">
<tr>
<td>1</td><td>بردبورد</td><td>یک عدد</td>
</tr>
<tr>
<td>2</td><td>برد آردوینو UNO</td><td>یک عدد</td>
</tr>
<tr>
<td>3</td><td>سیم جامپر</td><td>نه عدد</td>
</tr>
<tr>
<td>4</td><td>کابل USB</td><td>یک عدد</td>
</tr>
<tr>
<td>5</td><td>سون سگمنت</td><td>یک عدد</td>
</tr>
<td>6</td><td>مقاومت 220 اهمی</td><td>هفت عدد</td>
</tr>
</tbody>
</table>
</div>

---

### توضیحات کلی 📝

ماژول سون سگمنت از هفت عدد LED مجزا تشکیل شده است و این LED ها طوری در کنار یکدیگر قرار گرفته اند که با روشن و خاموش کردن آن ها می توان ترکیب های مختلفی از اعداد یک رقمی، حروف انگلیسی، بعضی شکلک ها و... را ایجاد کرد. در واقع بر روی ماژول به ازای هر LED یک پایه خاص قرار داده شده است که با استفاده از آن ها می توان به طور مستقل هر LED را کنترل کرد. تصویر الگوی سون سگمنت که مشخص می کند هر LED متعلق به کدام پایه می باشد در پایین قرار داده شده است.

---

### الگوی چینش LED ها در سون سگمنت 📍

<br>

<div align="center">
<img src="/media/7segment-pinout.png" width="200px" height="400px">
</div>

---

### سورس کد 💻

```cpp
int sequence[][7] = {
  {1,1,1,1,1,1,0},  // 0
  {0,1,1,0,0,0,0},  // 1
  {1,1,0,1,1,0,1},  // 2
  {1,1,1,1,0,0,1},  // 3
  {0,1,1,0,0,1,1},  // 4
  {1,0,1,1,0,1,1},  // 5
  {1,0,1,1,1,1,1},  // 6
  {1,1,1,0,0,0,0},  // 7
  {1,1,1,1,1,1,1},  // 8
  {1,1,1,1,0,1,1},  // 9
};

void printNumber (int number) {
  for (int i = 0; i < 7; i++) {
    digitalWrite(1+i,sequence[number][i]);
    }
}

void setup() {
  for (int i = 1; i < 8; i++) {
    pinMode(i, OUTPUT);
    }
}

void loop() {
  for (int i = 0; i < 10; i++) {
    printNumber(i);
    delay(1000);
    }
}
```

---

### توصیف کد های برنامه 🧑🏻‍💻

ابتدا یک آرایه دو بعدی از تمام الگو های اعداد 0 تا 9 ایجاد می کنیم. در هر سطر از آرایه هفت درایه وجود دارد که به تعداد LED های موجود در سون سگمنت می باشد. در واقع اولین ستون از آرایه معادل پایه a سون سگمنت بوده و به ترتیب تا آخرین ستون معادل پایه g می باشد.  
سپس یک تابع global به اسم printNumber ایجاد می کنیم. این تابع یک ورودی عددی می گیرد و در خروجی LED های معادل در سون سگمنت را که آن عدد را ایجاد می کنند بر اساس آرایه ای که بالاتر تشکیل دادیم، روشن می کند. در تابع setup یک حلقه for تشکیل دادیم که به ترتیب پین های شماره 1 تا 7 آردوینو را به عنوان خروجی معرفی می کند. در تابع loop نیز یک حلقه for داریم که هر یک ثانیه، یک عدد صحیح را به عنوان آرگومان تابع printNumber می دهد تا به ترتیب همه اعداد از 0 تا 9 بر روی سون سگمنت چاپ شوند.

---

### شرح کارکرد مدار به صورت ویدیویی 🎥

<br>

<div align="center">
<img src="/media/microprocessor_14.gif">
</div>

---

### شماتیک مدار 🗺️

<br>

<div align="center">
<img src="/media/schematic_12.jpg" width="600px" height="300px">
</div>

---

### توضیحات شماتیک مدار ✒️

<ol>
<li>
اتصالات سون سگمنت بر اساس تصویر الگوی چینش
<ul>
<li>پایه a به پین 1 آردوینو از طریق مقاومت 220 اهمی</li>
<li>پایه b به پین 2 آردوینو از طریق مقاومت 220 اهمی</li>
<li>پایه c به پین 3 آردوینو از طریق مقاومت 220 اهمی</li>
<li>پایه d به پین 4 آردوینو از طریق مقاومت 220 اهمی</li>
<li>پایه e به پین 5 آردوینو از طریق مقاومت 220 اهمی</li>
<li>پایه f به پین 6 آردوینو از طریق مقاومت 220 اهمی</li>
<li>پایه g به پین 7 آردوینو از طریق مقاومت 220 اهمی</li>
<li>پایه منفی به پین Gnd آردوینو</li>
</ul>
</li>
</ol>

---

### نتیجه گیری 👀

ماژول سون سگمنت که در ابعاد مختلف نیز موجود است در جاهای فراوانی کاربرد دارد اما بزرگترین مشکل آن، نمایش تنها اعداد تک رقمی می باشد و به ازای هر رقم بیشتر باید یک ماژول دیگر بر روی مدار قرار دهیم.
