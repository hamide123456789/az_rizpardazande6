## آزمایش شماره شش : اندازه گیری دما و رطوبت با سنسور DHT11 💡

### هدف 🎯

در این آزمایش می خواهیم با استفاده از سنسور <strong>DHT11</strong>، میزان دما و رطوبت محیط را سنجیده و بر اساس آن کولر یا هیتر را روشن کنیم.

---

### مواد و وسایل مورد نیاز 🛠️

<div align="right">
<table>
<thead>
<tr>
<th>ردیف</th><th>قطعه</th><th>تعداد</th>
</tr>
</thead>
<tbody align="center">
<tr>
<td>1</td><td>بردبورد</td><td>یک عدد</td>
</tr>
<tr>
<td>2</td><td>برد آردوینو UNO</td><td>یک عدد</td>
</tr>
<tr>
<td>3</td><td>سیم جامپر</td><td>ده عدد</td>
</tr>
<tr>
<td>4</td><td>کابل USB</td><td>یک عدد</td>
</tr>
<tr>
<td>5</td><td>سنسور DHT11</td><td>یک عدد</td>
</tr>
<tr>
<td>6</td><td>دیود نوری</td><td>دو عدد</td>
</tr>
<tr>
<td>7</td><td>مقاومت 1 کیلو اهمی</td><td>یک عدد</td>
</tr>
<tr>
<td>8</td><td>مقاومت 220 اهمی</td><td>دو عدد</td>
</tr>
</tbody>
</table>
</div>

---

### توضیحات کلی 📝

سنسور DHT11 از یک حسگر خازنی برای اندازه گیری رطوبت استفاده می کند. این حسگر از یک صفحه فلزی و یک صفحه عایق تشکیل شده است. هنگامی که رطوبت هوا به صفحه فلزی برخورد می کند، ظرفیت صفحه افزایش می یابد. این افزایش ظرفیت توسط حسگر اندازه گیری می شود و به عنوان داده رطوبت ارائه می شود.  
DHT11 همچنین از یک حسگر مقاومتی برای اندازه گیری دما استفاده می کند. این حسگر از یک مقاومت NTC تشکیل شده است. با افزایش دما، مقاومت NTC کاهش می یابد. این کاهش مقاومت توسط حسگر اندازه گیری می شود و به عنوان داده دما ارائه می شود.

---

### سورس کد 💻

```cpp
#include <DHT.h>

#define DHTPIN 8
#define DHTTYPE DHT11
DHT dht(DHTPIN, DHTTYPE);
int cooler = 7;
int heater = 6;

void setup() {
  Serial.begin(9600);
  Serial.println('DHT11 test');
  dht.begin();
  pinMode(cooler, OUTPUT);
  pinMode(heater, OUTPUT);
}

void loop() {
  float humid = dht.readHumidity();
  float temp = dht.readTemperature();
  Serial.print("The Temporary is : ");
  Serial.print(temp);
  Serial.println("*C");
  Serial.print("The Humidity is : ");
  Serial.print(humid);
  Serial.println("*%");
  delay(1000);
  if (temp > 27) {
    digitalWrite(cooler, HIGH);
    digitalWrite(heater, LOW);
    }
    else if (temp < 27) {
      digitalWrite(cooler, LOW);
      digitalWrite(heater, HIGH);
      }
}
```

---

### توصیف کد های برنامه 🧑🏻‍💻

در ابتدا کتابخانه مربوط به سنسور را وارد می کنیم. سپس پینی که به پایه شماره 2 سنسور متصل شده است ( پین 8 ) به عنوان DHTPIN معرفی می کنیم.  
در تابع setup سریال مانیتور و همچنین DHT11 را آغاز می کنیم. پین شماره 7 را به عنوان خروجی برای یکی از LED ها ( نماینده کولر ) و پین شماره 6 را برای LED دیگر ( نماینده heater ) قرار می دهیم. در تابع loop هر یک ثانیه یکبار مقدار رطوبت و مقدار دما را از سنسور می خوانیم و آن ها را بر روی سریال مانیتور چاپ می کنیم. در نهایت شرطی را تعیین می کنیم که اگر دما بیشتر از 27 درجه بود LED که مربوط به کولر است روشن شود و LED مربوط به هیتر خاموش شود در غیر این صورت برعکس این عمل اتفاق بیفتد.

---

### تصویر مدار 🖼️

<div align="center">
<img src="/media/microprocessor_18.jpg">
</div>

---

### شماتیک مدار 🗺️

<br>

<div align="center">
<img src="/media/schematic_16.jpg" width="600px" height="300px">
</div>

---

### توضیحات شماتیک مدار ✒️

<ol>
<li>
اتصالات DHT11
<ul>
<li>پایه شماره 1 به پین Vcc آردوینو</li>
<li>پایه شماره 2 به پین 8 آردوینو</li>
<li>همچنین پایه شماره 2 به پین Vcc آردوینو از طریق مقاومت 1 کیلو اهمی</li>
<li>پایه شماره 4 به پین Gnd آردوینو</li>
</ul>
</li>
<li>
اتصالات LED ها
<ul>
<li>یک پایه به پین Gnd آردوینو از طریق مقاومت 220 اهمی</li>
<li>یک پایه به پین 6 و پین 7 آردوینو</li>
</ul>
</li>
</ol>

---

### نتیجه گیری 👀

سنسور DHT11 می تواند در طیف وسیعی از کاربردها از جمله خانه ها، سیستم های آبیاری و گلخانه ها، بیمارستان ها و... به کار رود. بزرگترین عیب این سنسور دقت نسبتا پایین آن در اندازه گیری دما ( حدود 2 درجه سلسیوس ) می باشد.
